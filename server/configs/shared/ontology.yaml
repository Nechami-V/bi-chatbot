# Shared Business Ontology
# Define entities, attributes, and relationships based on actual database schema

entities:
  client:
    display_name: "Client"
    table_name: "clients"
    hebrew_names: ["לקוח", "לקוחות", "קונה", "קונים", "לקוחה"]
    description: "Business clients"
    attributes:
      id:
        type: "integer"
        primary_key: true
        column_name: "id"
        hebrew_names: ["מזהה", "קוד לקוח"]
      first_name:
        type: "string"
        column_name: "fname"
        hebrew_names: ["שם פרטי", "שם ראשון", "שם"]
      last_name:
        type: "string"
        column_name: "lname"
        hebrew_names: ["שם משפחה", "שם אחרון", "משפחה"]
      spouse_name:
        type: "string"
        column_name: "wname"
        hebrew_names: ["בן זוג", "בת זוג", "בני זוג", "שם בן זוג"]
      city:
        type: "string"
        column_name: "city"
        hebrew_names: ["עיר", "יישוב", "מקום מגורים"]
      street:
        type: "string"
        column_name: "street"
        hebrew_names: ["רחוב", "ברחוב", "רח'", "כתובת", "street", "address", "כתובת מגורים"]
      house_number:
        type: "string"
        column_name: "num"
        hebrew_names: ["מספר", "במספר", "מס'", "מספר בית", "מספר בניין", "בית", "בניין", "מספר רחוב"]

  site:
    display_name: "Site"
    table_name: "sites"
    hebrew_names: ["תחנה", "תחנות", "סייט", "אתר", "station", "sites"]
    description: "Distribution or service sites"
    attributes:
      id:
        type: "integer"
        primary_key: true
        column_name: "id"
        hebrew_names: ["מזהה תחנה", "קוד תחנה", "מזהה"]
      name:
        type: "string"
        column_name: "name"
        hebrew_names: ["שם תחנה", "שם", "כינוי"]
      city:
        type: "string"
        column_name: "city"
        hebrew_names: ["עיר", "יישוב"]
      street:
        type: "string"
        column_name: "grp"
        hebrew_names: ["רחוב", "ברחוב", "רח'", "כתובת", "street", "address", "מסילת", "שכונה"]
      coordinator_count:
        type: "integer"
        column_name: "num_rakaz"
        hebrew_names: ["מספר רכזים", "רכזים", "רכז"]
      
  order:
    display_name: "Order"
    table_name: "orders"
    hebrew_names: ["הזמנה", "הזמנות", "רכישה", "רכישות"]
    description: "Client orders"
    attributes:
      id:
        type: "integer"
        primary_key: true
        column_name: "id"
        hebrew_names: ["מזהה הזמנה", "קוד הזמנה"]
      list_id:
        type: "integer"
        foreign_key: "list.id"
        column_name: "list_id"
        hebrew_names: ["רשימה", "קוד רשימה", "מזהה רשימה"]
      item_sales_id:
        type: "integer"
        foreign_key: "item_sale.id"
        column_name: "item_sales_id"
        hebrew_names: ["מכירת פריט", "קוד מכירת פריט"]
      amount:
        type: "decimal"
        column_name: "amount"
        hebrew_names: ["סכום", "כמות", "כסף", "מחיר"]
      time:
        type: "date"
        column_name: "time"
        hebrew_names: ["תאריך", "תאריך הזמנה", "זמן", "מתי"]
      
  list:
    display_name: "List"
    table_name: "lists"
    hebrew_names: ["רשימה", "רשימות", "תלוש"]
    description: "Order lists/transactions"
    attributes:
      id:
        type: "integer"
        primary_key: true
        column_name: "id"
        hebrew_names: ["מזהה רשימה", "קוד רשימה"]
      client_id:
        type: "integer"
        foreign_key: "client.id"
        column_name: "client_id"
        hebrew_names: ["לקוח", "קוד לקוח", "מזהה לקוח"]
      sale_id:
        type: "integer"
        foreign_key: "sale.id"
        column_name: "sale_id"
        hebrew_names: ["מכירה", "קוד מכירה", "מזהה מכירה"]
      time:
        type: "date"
        column_name: "time"
        hebrew_names: ["תאריך", "זמן", "מתי"]
      payment:
        type: "decimal"
        column_name: "payment"
        hebrew_names: ["תשלום", "סכום תשלום"]
      
  item:
    display_name: "Item"
    table_name: "items"
    hebrew_names: ["פריט", "פריטים", "מוצר", "מוצרים", "דבר"]
    description: "Products and items"
    attributes:
      id:
        type: "integer"
        primary_key: true
        column_name: "id"
        hebrew_names: ["מזהה פריט", "קוד מוצר", "קוד פריט"]
      name:
        type: "string"
        column_name: "name"
        hebrew_names: ["שם", "שם הפריט", "שם המוצר", "תיאור"]
      group_id:
        type: "integer"
        column_name: "group_id"
        hebrew_names: ["קבוצה", "קוד קבוצה", "קטגוריה"]
  
  item_sale:
    display_name: "Item Sale"
    table_name: "items_sales"
    hebrew_names: ["מכירת פריט", "מכירות פריט"]
    description: "Item sales records"
    attributes:
      id:
        type: "integer"
        primary_key: true
        column_name: "id"
        hebrew_names: ["מזהה", "קוד"]
      sale_id:
        type: "integer"
        foreign_key: "sale.id"
        column_name: "saleid"
        hebrew_names: ["מכירה", "קוד מכירה"]
      item_id:
        type: "integer"
        foreign_key: "item.id"
        column_name: "itemid"
        hebrew_names: ["פריט", "קוד פריט"]
      price:
        type: "decimal"
        column_name: "price"
        hebrew_names: ["מחיר", "עלות"]
      units:
        type: "decimal"
        column_name: "units"
        hebrew_names: ["יחידות", "כמות", "מספר יחידות"]
        
  sale:
    display_name: "Sale"
    table_name: "sales"
    hebrew_names: ["מכירה", "מכירות", "חלוקה", "חלוקות"]
    description: "Sales events/periods"
    attributes:
      id:
        type: "integer"
        primary_key: true
        column_name: "id"
        hebrew_names: ["מזהה מכירה", "קוד מכירה"]
      name:
        type: "string"
        column_name: "name"
        hebrew_names: ["שם", "שם המכירה", "שם החלוקה"]
      week:
        type: "string"
        column_name: "week"
        hebrew_names: ["שבוע", "פרשה", "פרשת השבוע", "שבוע בשנה"]

# Define relationships between entities
relationships:
  client_lists:
    from: "client"
    to: "list"
    type: "one_to_many"
    foreign_key: "client_id"
    description: "Client has many order lists"
  
  list_orders:
    from: "list"
    to: "order"
    type: "one_to_many"
    foreign_key: "list_id"
    description: "List contains many orders"
  
  order_item_sales:
    from: "item_sale"
    to: "order"
    type: "one_to_many"
    foreign_key: "item_sales_id"
    description: "Item sale linked to orders"
  
  sale_lists:
    from: "sale"
    to: "list"
    type: "one_to_many"
    foreign_key: "sale_id"
    description: "Sale period has many lists"
  
  sale_item_sales:
    from: "sale"
    to: "item_sale"
    type: "one_to_many"
    foreign_key: "sale_id"
    description: "Sale period has many item sales"
  
  item_item_sales:
    from: "item"
    to: "item_sale"
    type: "one_to_many"
    foreign_key: "item_id"
    description: "Item has many sales records"